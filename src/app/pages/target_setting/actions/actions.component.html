<div class="container">
    <div class="row pt-4">
        <div class="col-sm-6" [ngClass]="
                this.updatedtheme === 'dark' ? 'headlinetextD' : 'headlinetextL'
            ">
            <h3 class="pl-4">Actions</h3>
        </div>
    </div>

    <div class="row d-flex justify-content-between mx-3 pt-3">
        <div class="col-md-12 myCol overflow-auto mb-5 ct_custom_flex_basisc"
            [ngClass]="this.updatedtheme === 'dark' ? 'User-tabD' : 'User-tabL'">
            <div class="row p-2">
                <div class="" [ngClass]="
                        this.updatedtheme === 'dark'
                            ? 'User-headD'
                            : 'User-headL'
                    ">
                    <!-- <p class="ml-3 ct_fw_600">Set Emission Inventory</p> -->
                </div>
                <div class="d-flex justify-content-between text-style text-light scope-Div">
                  
                    <div class="form-group has-search text-light">
                        <button class="GroupButton ct_assign_package_btn129 ct_animation_btn_121" (click)="showAddGroupDialog()">
                            + Add Actions
                        </button>
                    </div>
                </div>
            </div>

            <p-toast></p-toast>
            <p-confirmDialog #cd [style]="{width: '60vw'}">
                <ng-template pTemplate="footer">
                    <button pButton icon="pi pi-check" label="Yes" (click)="cd.accept()"
                        class="span-color cancel-button"></button>
                    <button pButton icon="pi pi-times" label="Cancel" (click)="cd.reject()"
                        class="p-button-raised p-button-danger"></button>
                </ng-template>
            </p-confirmDialog>

           



            <div class="dataTable scrollit">
                <table class="table_loc ct_space_table_21 ct_billing_table_bg_120">
                    <thead>
                        <tr>

                            <th scope="col">Planned</th>
                            <th scope="col">In Progress </th>
                            <th scope="col">Archieved</th>
                          
                        </tr>
                    </thead>
                    <tbody>
                        <tr clickable (click)="selectGroup(group,index)" *ngFor="
                                let group of groupsList;let index = index
                            " class="col-12 tableRow border-bottom rounded pointer" (click)="UnlockComplete(group.id)"
                            [ngClass]="{ 'tableRowclicked': index === selectedRowIndex }">
                            <td *ngIf="group.status =='Passed'" class="td text-initial">
                                {{ group.name }}
                            </td>
                            <td class="td ">
                                {{ group.name }}

                            </td>
                            <td class="td text-center pb-1">
                                {{ group.name }}

                            </td>
                          
                        
                            <!-- <td class="td text-right">
                                <a style="
                                        cursor: pointer;
                                        color: #88ad47;
                                        font-size: 13px;
                                    ">view details</a>
                            </td> -->
                        </tr>
                    </tbody>
                </table>
                <div class="text-light" *ngIf="groupdata === false">
                    <div class="icon">
                        <i class="fa fa-info-circle" style="font-size: 20px" aria-hidden="true"></i>
                    </div>
                    <label class="text-center label">No group available. Start by add a new group using the
                        add group button.</label>
                </div>
            </div>
        </div>

     
    </div>
</div>


<p-dialog (click)="removeCss()" [(visible)]="visible" [breakpoints]="{'960px': '75vw'}" [closable]="false"
[style]="{width: '50vw'}">
<p-header *ngIf="FormEdit === false"> Add Actions </p-header>
<p-header *ngIf="FormEdit === true"> Edit Target </p-header>

<div class="modal-body text-white text-style Dashboard-tab ct_vertically_scroll">
    <form #GroupForm="ngForm" class="col-12" (ngSubmit)="
            FormEdit === false
                ? saveOffset(GroupForm)
                : updateGroup(groupdetails.id, GroupForm.value)
        ">
        <div class="mb-5 pb-0 row">
            <div class="col-md-6 mb-3">
                <label for="fname">Name </label>
                <input  name="name" ngModel id="search-input" type="text"
                    class="form-control Dashboard-tab text-white" placeholder="Enter Project Name"
                    #groupName="ngModel"  [disabled]="isloading"
                    required />
                <p class="text-danger mb-0"
                    *ngIf="GroupForm.submitted && groupName.errors?.['required']">
                    Group name is required
                </p>
                <p class="text-danger mb-0" *ngIf="
                    isgroupExist === true && groupName.touched
                ">
                    group already exist please use other groupname
                </p>
            </div>
            <div class="col-md-6 mb-3">
                <label for="fname">Scope Category</label>
                <input  name="scope_category" ngModel id="search-input" type="text"
                class="form-control Dashboard-tab text-white" placeholder="Enter Project Name"
                #groupName="ngModel"  [disabled]="isloading"
                required />
                <p class="text-danger mb-0"
                    *ngIf="GroupForm.submitted && groupName.errors?.['required']">
                    Group name is required
                </p>
                <p class="text-danger mb-0" *ngIf="
                    isgroupExist === true && groupName.touched
                ">
                    group already exist please use other groupname
                </p>
            </div>
            <div class="col-md-6 mb-3">
                <label for="fname">CO2 Savings (tCOe)</label>
                <input  name="co2_savings_tcoe" ngModel id="search-input" type="text"
                class="form-control Dashboard-tab text-white" placeholder="Enter Project Name"
                #groupName="ngModel"  [disabled]="isloading"
                required />
                <p class="text-danger mb-0"
                    *ngIf="GroupForm.submitted && groupName.errors?.['required']">
                    Group name is required
                </p>
                <p class="text-danger mb-0" *ngIf="
                    isgroupExist === true && groupName.touched
                ">
                    group already exist please use other groupname
                </p>
            </div>
         
            <div class="col-md-6 mb-3">
                <label for="fname">Time period</label>
                    <p-calendar class="w-100 ct_input_dark_text_145" ngModel  name="time_period"  [showIcon]="true" view="year" placeholder="Select year" dateFormat="yy" inputId="yearpicker" styleClass="pcalender"></p-calendar>
            </div>
            <div class="col-md-6 mb-3">
                <label for="fname">Owner</label>
                <input  name="owner" ngModel id="search-input" type="text"
                class="form-control Dashboard-tab text-white" placeholder="Enter owner Name"
                #groupName="ngModel"  [disabled]="isloading"
                required />
                <!-- <p-dropdown class="ct_grop_select_2_drop_white123 ct_group_select_dark_124" required
                ngModel placeholder="Select" [options]="emission_activity" 
                optionLabel="e_act" optionValue="e_act" name="owner" #group="ngModel"></p-dropdown> -->
            </div>
            <div class="col-md-6 mb-3">
                <label for="fname">Status </label>
                <p-dropdown class="ct_grop_select_2_drop_white123 ct_group_select_dark_124" required
                ngModel placeholder="Select" [options]="status" 
                optionLabel="e_act" optionValue="e_act" name="status" #group="ngModel"></p-dropdown>
            </div>
           

        </div>

        <div class="mt-3 ct_modal_btns_12">
            <Button (click)="removeCss()" type="submit" *ngIf="FormEdit === false" [disabled]="
                    (this.selectedRole !== Roleaccess &&
                        facilitydata === true) ||
                    usernameIsExist === true ||
                    emailIstExist === true
                " class="rounded span-color px-3 text-white text-style loading ">
                <p-progressSpinner strokeWidth="8" *ngIf="isloading === true"></p-progressSpinner>
                Save
            </Button>
            <Button *ngIf="FormEdit === true" type="submit "
                class="rounded span-color px-3 text-white text-style ">
                <p-progressSpinner strokeWidth="8" *ngIf="isloading === true"></p-progressSpinner>
                Update
            </Button>

            <span type="button" class="text-white font-weight-light ml-3 " (click)="removeCss()"
                (click)="onCloseHandled()">
                Close
            </span>
        </div>
    </form>
</div>
</p-dialog>